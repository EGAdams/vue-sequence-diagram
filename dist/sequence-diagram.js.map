{"version":3,"sources":["webpack:///sequence-diagram.js","webpack:///webpack/bootstrap 9b7222c21ea8e0255ef6","webpack:///src/lib/SequenceDiagram.vue","webpack:///./src/lib/index.js","webpack:///./src/lib/SequenceDiagram.vue","webpack:///./src/lib/SequenceDiagram.vue?f93c","webpack:///./src/lib/SequenceDiagram.vue?ab8d","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./node_modules/vue-style-loader/lib/addStylesClient.js","webpack:///./node_modules/vue-style-loader/lib/listToStyles.js","webpack:///./node_modules/vue-loader/lib/component-normalizer.js","webpack:///./src/lib/SequenceDiagram.vue?17eb"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","props","dataList","type","Array","data","rowList","columnList","colorList","lineStyles","labelStyles","resizeFunction","created","this","length","line","assign","push","columnIndex","_ensureColumnIndex","fromColumnIndex","toColumnIndex","_generateColumnSegment","mounted","_this","$nextTick","reCalculateLinePosition","that","window","addEventListener","beforeDestroy","removeEventListener","methods","columnName","j","idx","color","rowNumbers","columnItem","bitmap","segStart","isBlock","begin","end","console","log","baseOffset","left","top","segBlockDom","document","querySelector","segBlockWidth","clientWidth","columnBodyDom","width","$refs","segCount","avgSegheight","offsetHeight","columnBodyTop","offsetTop","columnDom","subsys","leftPosition","offsetLeft","fromDom","toDom","leftDom","rightDom","value","__WEBPACK_IMPORTED_MODULE_0__SequenceDiagram_vue__","comment","install","Vue","component","SequenceDiagram","use","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_SequenceDiagram_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_117cc0ca_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_SequenceDiagram_vue__","normalizeComponent","__vue_styles__","Component","content","locals","cssWithMappingToString","item","useSourceMap","cssMapping","btoa","sourceMapping","toComment","concat","sources","map","source","sourceRoot","join","sourceMap","unescape","encodeURIComponent","JSON","stringify","list","toString","mediaQuery","alreadyImportedModules","id","addStylesToDom","styles","domStyle","stylesInDom","refs","parts","addStyle","createStyleElement","styleElement","createElement","head","appendChild","obj","update","remove","ssrIdKey","isProduction","noop","parentNode","removeChild","isOldIE","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","bind","applyToTag","newObj","css","media","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","insertBefore","setAttribute","options","ssrId","firstChild","hasDocument","DEBUG","Error","listToStyles","getElementsByTagName","navigator","test","userAgent","toLowerCase","parentId","_isProduction","_options","newList","mayRemove","textStore","replacement","filter","Boolean","newStyles","part","rawScriptExports","compiledTemplate","functionalTemplate","injectStyles","scopeId","moduleIdentifier","esModule","scriptExports","default","render","staticRenderFns","_compiled","functional","_scopeId","hook","context","$vnode","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","existing","beforeCreate","_injectStyles","h","_vm","_h","$createElement","_c","_self","ref","staticClass","_l","column","key","refInFor","attrs","_v","_s","segment","segIndex","style","flex","backgroundColor","_e","on","click","$event","$emit","class","note","esExports"],"mappings":"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","file":"sequence-diagram.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'SequenceDiagram',\n  props: {\n    // 数据 [{label:'',from:'',to:'',note:'',isDash:1}]\n    dataList: {\n      type: Array\n    }\n  },\n  data: function data() {\n    return {\n      // 所有数据行的信息\n      rowList: [],\n      // 所有列的信息{data:{},fromColumnIdx:1,toColumnIdx:2,sys_idx}\n      columnList: [],\n\n      colorList: ['SteelBlue', 'coral', 'DeepSkyBlue', 'lightgreen', 'SlateBlue', 'HotPink', 'Olive', 'Sienna', 'Tan'],\n      lineStyles: [],\n      labelStyles: [],\n      resizeFunction: null\n    };\n  },\n  created: function created() {\n    // 循环所有数据行，计算列信息\n    for (var i = 0; i < this.dataList.length; ++i) {\n      // copy用户传递的原始数据对象，保存到rowList\n      var line = Object.assign({}, this.dataList[i]);\n      this.rowList.push(line);\n\n      if (line['from'] === line['to']) {\n        // -------------自循环，从A->A-----------------\n        var columnIndex = this._ensureColumnIndex(line['name']);\n        this.columnList[columnIndex]['rowNumbers'].push(i);\n        // 补充自循环数据，所在列的索引\n        line['fromColumnIdx'] = columnIndex;\n        line['toColumnIdx'] = columnIndex;\n        // 线条类型\n        line['lineType'] = line['isDash'] ? 'dashlink' : 'link';\n      } else {\n        // -------------正常信息，从A->B-----------------\n        // 记录列的信息，并返回列的索引位置\n        var fromColumnIndex = this._ensureColumnIndex(line['from']);\n        // 记录当前行\n        this.columnList[fromColumnIndex]['rowNumbers'].push(i);\n        // 补充from所在列的索引\n        line['fromColumnIdx'] = fromColumnIndex;\n\n        // to相关信息\n        var toColumnIndex = this._ensureColumnIndex(line['to']);\n        this.columnList[toColumnIndex]['rowNumbers'].push(i);\n        line['toColumnIdx'] = toColumnIndex;\n        // 线条类型\n        line['lineType'] = line['isDash'] ? 'dashline' : 'line';\n      }\n    }\n    // 计算所有列的分段信息\n    for (var i = 0; i < this.columnList.length; ++i) {\n      this._generateColumnSegment(this.columnList[i]);\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.reCalculateLinePosition();\n    });\n    var that = this;\n    this.resizeFunction = function () {\n      that.reCalculateLinePosition();\n    };\n    // 增加监听\n    window.addEventListener('resize', this.resizeFunction);\n  },\n  beforeDestroy: function beforeDestroy() {\n    // 移除监听\n    window.removeEventListener('resize', this.resizeFunction);\n  },\n\n  methods: {\n    /**\r\n     * 根据列名，计算列的信息，并返回列的索引，\r\n     */\n    _ensureColumnIndex: function _ensureColumnIndex(columnName) {\n      for (var j = 0; j < this.columnList.length; ++j) {\n        if (this.columnList[j]['name'] == columnName) {\n          return j;\n        }\n      }\n      var idx = this.columnList.length;\n      this.columnList.push({\n        idx: idx,\n        name: columnName,\n        color: this.colorList[idx % this.colorList.length],\n        rowNumbers: []\n      });\n      // 返回列的索引\n      return idx;\n    },\n\n    /**\r\n     * 计算列的分段样式\r\n     */\n    _generateColumnSegment: function _generateColumnSegment(columnItem) {\n      columnItem['segments'] = [];\n      // calculate dots\n      var bitmap = [];\n      // 所有行默认为0\n      for (var i = 0; i < this.dataList.length; ++i) {\n        bitmap.push(0);\n      }\n      // columnItem['rowNumbers']=[1,8]说明当前列在第2行、第9行位置处显示block\n      for (var i = 0; i < columnItem['rowNumbers'].length; ++i) {\n        // 1代表当前段为block 0代表line\n        bitmap[columnItem['rowNumbers'][i]] = 1;\n      }\n      // 计算连续的block和line\n      var segStart = 0,\n          isBlock = false;\n      for (var i = 0; i < bitmap.length; ++i) {\n        if (bitmap[i]) {\n          // this dot belongs to a line block seg\n          if (!isBlock) {\n            // but current seg is not a block\n            if (i > segStart) {\n              // end current seg\n              columnItem['segments'].push({\n                begin: segStart,\n                end: i - 1,\n                isBlock: false\n              });\n            }\n            // start a new seg\n            segStart = i;\n            isBlock = true;\n          }\n        } // this dot belongs to a dash line seg\n        else {\n            if (isBlock) {\n              // but current seg is a block\n              if (i > segStart) {\n                // end current seg\n                columnItem['segments'].push({\n                  begin: segStart,\n                  end: i - 1,\n                  isBlock: true\n                });\n              }\n              // start a new seg\n              segStart = i;\n              isBlock = false;\n            }\n          }\n      }\n      // end the final line seg\n      columnItem['segments'].push({\n        begin: segStart,\n        end: bitmap.length - 1,\n        isBlock: isBlock\n      });\n    },\n\n    /**\r\n     * 重新计算线的位置\r\n     */\n    reCalculateLinePosition: function reCalculateLinePosition() {\n      console.log('===========recal_line===========');\n      if (this.rowList.length === 0) {\n        return;\n      }\n      // var dom = this.$refs.seqdiagram\n      // var baseOffset = {\n      //   left: dom.offsetLeft,\n      //   top: dom.offsetTop\n      // }\n      var baseOffset = {\n        left: 0,\n        top: 0\n        // segment block\n      };var segBlockDom = document.querySelector('[name=subsys0] .segment-block');\n      if (!segBlockDom) {\n        return;\n      }\n      // segment block宽度\n      var segBlockWidth = segBlockDom.clientWidth;\n      // 列的高度\n      var columnBodyDom = document.querySelector('[name=subsys0] .bodybox');\n      // 清空原样式\n      this.lineStyles.length = 0;\n      this.labelStyles.length = 0;\n      for (var i = 0; i < this.rowList.length; ++i) {\n        var line = this.rowList[i];\n        var lineDom = this.$refs.line[i];\n\n        var width = 0,\n            top = 0,\n            left = 0;\n\n        // calculate top\n        var segCount = this.rowList.length + 1;\n        var avgSegheight = columnBodyDom.offsetHeight / segCount;\n        var columnBodyTop = columnBodyDom.offsetTop;\n\n        // A->A类型\n        if (line['fromColumnIdx'] === line['toColumnIdx']) {\n          var columnDom = this.$refs.subsys[line['fromColumnIdx']];\n\n          var leftPosition = columnDom.offsetLeft + columnDom.clientWidth / 2 + segBlockWidth / 2;\n\n          // postion\n          width = columnDom.clientWidth;\n          top = columnBodyTop + (i + 1) * avgSegheight - 5 - baseOffset.top;\n          left = leftPosition - baseOffset.left;\n        } else {\n          // A->B OR B->A\n          // 开始列的dom\n          var fromDom = this.$refs.subsys[line['fromColumnIdx']];\n          // 结束列的dom\n          var toDom = this.$refs.subsys[line['toColumnIdx']];\n\n          var leftDom = null,\n              rightDom = null;\n          if (line['fromColumnIdx'] < line['toColumnIdx']) {\n            // line is left to right\n            leftDom = fromDom;\n            rightDom = toDom;\n          } else {\n            // line is right to left\n            leftDom = toDom;\n            rightDom = fromDom;\n          }\n          // calculate line's left and right end position, calculate width\n          var leftPosition = leftDom.offsetLeft + leftDom.clientWidth / 2 + segBlockWidth / 2;\n          var rightPosition = rightDom.offsetLeft + rightDom.clientWidth / 2 - segBlockWidth / 2;\n\n          // 设置position\n          width = rightPosition - leftPosition;\n          top = columnBodyTop + (i + 1) * avgSegheight - 5 - baseOffset.top;\n          left = leftPosition - baseOffset.left;\n        }\n\n        // 记录position\n        this.lineStyles.push({\n          width: width + 'px',\n          top: top + 'px',\n          left: left + 'px'\n        });\n        this.labelStyles.push({\n          left: -1 * left + 'px'\n        });\n      }\n    }\n  }\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SequenceDiagram_vue__ = __webpack_require__(2);\n\n\nvar comment = {\n  install: function install(Vue) {\n    Vue.component(__WEBPACK_IMPORTED_MODULE_0__SequenceDiagram_vue__[\"a\" /* default */].name, __WEBPACK_IMPORTED_MODULE_0__SequenceDiagram_vue__[\"a\" /* default */]);\n  }\n  // global 情况下 自动安装\n};if (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(comment);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (comment);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_SequenceDiagram_vue__ = __webpack_require__(0);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_117cc0ca_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_SequenceDiagram_vue__ = __webpack_require__(9);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(3)\n}\nvar normalizeComponent = __webpack_require__(8)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-117cc0ca\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_SequenceDiagram_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_117cc0ca_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_SequenceDiagram_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(4);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(6)(\"03ffdf4f\", content, true, {});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".seqdiagram[data-v-117cc0ca]{margin:0;padding:0;color:#191970;width:100%;height:100%;position:relative;display:flex;flex-direction:column}.seqdiagram [data-v-117cc0ca]{margin:0;padding:0}.seqdiagram .seqdiagram_title[data-v-117cc0ca]{display:flex;font-size:.75em;text-shadow:.125em .125em .125em #b3b3b3}.seqdiagram .seqdiagram_title .box[data-v-117cc0ca]{padding:.3125em .625em;border:.0625em solid gray;border-top:0;background-color:#fffacd}.seqdiagram .seqdiagram_title .west[data-v-117cc0ca]{border-left:0;border-bottom-right-radius:1em}.seqdiagram .seqdiagram_title .center[data-v-117cc0ca]{flex:1}.seqdiagram .seqdiagram_title .east[data-v-117cc0ca]{border-right:0;border-bottom-left-radius:1em}.seqdiagram .seqdiagram_sysbox[data-v-117cc0ca]{display:flex;justify-content:space-around;position:relative;flex:1}.seqdiagram .seqdiagram_sysbox .subsys[data-v-117cc0ca]{flex:1;display:flex;flex-direction:column;justify-content:space-between;max-width:12.5em;margin:.625em}.seqdiagram .seqdiagram_sysbox .subsys .title[data-v-117cc0ca]{border:.0625em solid #000;border-radius:.375em;padding:.3125em;text-align:center;text-shadow:.125em .125em .125em #b3b3b3;box-shadow:.25em .25em .25em #b3b3b3;font-size:.875em;background-image:linear-gradient(180deg,#ccc,#fff);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.seqdiagram .seqdiagram_sysbox .subsys .bodybox[data-v-117cc0ca]{flex:1;display:flex;flex-direction:column;justify-content:space-between;align-items:center}.seqdiagram .seqdiagram_sysbox .subsys .bodybox .segment-line[data-v-117cc0ca]{position:relative;top:0;left:0;z-index:0;width:0;border-left:1px dashed #000;flex:0.5}.seqdiagram .seqdiagram_sysbox .subsys .bodybox .segment-block[data-v-117cc0ca]{width:.625em;background-color:pink;flex:1;box-shadow:.25em .25em .25em #b3b3b3;z-index:1}.seqdiagram .seqdiagram_bottom[data-v-117cc0ca]{display:flex;font-size:.75em;text-shadow:.125em .125em .125em #b3b3b3;margin:.3125em}.seqdiagram .seqdiagram_bottom .side[data-v-117cc0ca]{flex:1}.seqdiagram .seqdiagram_bottom .center[data-v-117cc0ca]{padding:.9375em;border:.0625em solid gray;border-radius:1em;background-color:#fffacd}.seqdiagram .arrow_line[data-v-117cc0ca]{position:absolute;display:flex;justify-content:center;align-items:center;height:.625em;z-index:0;width:200px}.seqdiagram .arrow_line .line[data-v-117cc0ca]{border-bottom:.0625em solid #000;height:0;flex:1}.seqdiagram .arrow_line .dashline[data-v-117cc0ca]{border-bottom:.0625em dashed #000;height:0;flex:1}.seqdiagram .arrow_line .arrow_to_right[data-v-117cc0ca]:before{content:\\\"\\\\25B6\\\";color:#000}.seqdiagram .arrow_line .arrow_to_left[data-v-117cc0ca]:before{content:\\\"\\\\25C0\\\";color:#000}.seqdiagram .arrow_line .note[data-v-117cc0ca]{position:absolute;margin:auto;top:-1em;left:0;bottom:0;right:0;text-align:center;font-size:.875em;text-shadow:.125em .125em .125em #b3b3b3;paddng:0 .5em 0 .5em;color:dimgray}.seqdiagram .self_msg_line[data-v-117cc0ca]{position:absolute;display:flex;justify-content:center;align-items:center;height:.625em;z-index:0;width:200px}.seqdiagram .self_msg_line .link[data-v-117cc0ca]{width:1.5em;height:1.5em;border:.0625em solid #000;border-left:0}.seqdiagram .self_msg_line .dashlink[data-v-117cc0ca]{width:1.5em;height:1.5em;border:.0625em dashed #000;border-left:0}.seqdiagram .self_msg_line .arrow[data-v-117cc0ca]:before{content:\\\"\\\\25C0\\\";color:#000;position:absolute;left:0;bottom:-1.09375em}.seqdiagram .self_msg_line .note[data-v-117cc0ca]{flex:1;text-align:left;font-size:.875em;text-shadow:.125em .125em .125em #b3b3b3;color:dimgray;padding-left:.3125em}.seqdiagram .arrow_line[data-v-117cc0ca]:hover{cursor:pointer;background:#ccc}.seqdiagram .arrow_line:hover .line[data-v-117cc0ca]{border-bottom:.0625em solid red}.seqdiagram .arrow_line:hover .dashline[data-v-117cc0ca]{border-bottom:.0625em dashed red}.seqdiagram .arrow_line:hover .arrow_to_left[data-v-117cc0ca]:before,.seqdiagram .arrow_line:hover .arrow_to_right[data-v-117cc0ca]:before,.seqdiagram .arrow_line:hover .line_label[data-v-117cc0ca]{color:red}.seqdiagram .self_msg_line[data-v-117cc0ca]:hover{cursor:pointer}.seqdiagram .self_msg_line:hover .link[data-v-117cc0ca]{border:.0625em solid red;border-left:0}.seqdiagram .self_msg_line:hover .arrow[data-v-117cc0ca]:before,.seqdiagram .self_msg_line:hover .line_label[data-v-117cc0ca]{color:red}.seqdiagram .line_label[data-v-117cc0ca]{position:absolute;font-size:.875em;z-index:0;text-align:left}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\nvar listToStyles = __webpack_require__(7)\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nmodule.exports = function (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nmodule.exports = function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"seqdiagram\",staticClass:\"seqdiagram\"},[_c('div',{staticClass:\"seqdiagram_sysbox\"},_vm._l((_vm.columnList),function(column,index){return _c('div',{key:column.name,ref:\"subsys\",refInFor:true,staticClass:\"subsys\",attrs:{\"name\":'subsys'+index}},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(column.name))]),_vm._v(\" \"),_c('div',{staticClass:\"bodybox\"},[_c('div',{staticClass:\"segment-line\"}),_vm._v(\" \"),_vm._l((column['segments']),function(segment,segIndex){return [(segment.isBlock)?_c('div',{key:index+'-'+segIndex,staticClass:\"segment-block\",style:({flex:segment.end-segment.begin+1,backgroundColor:column.color})}):_vm._e(),_vm._v(\" \"),(!segment.isBlock)?_c('div',{key:index+'-'+segIndex,staticClass:\"segment-line\",style:({flex:segment.end-segment.begin+1})}):_vm._e()]}),_vm._v(\" \"),_c('div',{staticClass:\"segment-line\"})],2),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(column.name))])])}),0),_vm._v(\" \"),_vm._l((_vm.rowList),function(line,index){return [(line['fromColumnIdx'] < line['toColumnIdx'])?_c('div',{key:'line-'+index,ref:\"line\",refInFor:true,staticClass:\"arrow_line\",style:(_vm.lineStyles[index]),on:{\"click\":function($event){return _vm.$emit('line-click', index, line)}}},[_c('div',{class:line['lineType']}),_vm._v(\" \"),_c('div',{staticClass:\"arrow_to_right\"}),_vm._v(\" \"),_c('div',{staticClass:\"note\"},[_vm._v(_vm._s(line.note))]),_vm._v(\" \"),_c('div',{staticClass:\"line_label\",style:(_vm.labelStyles[index])},[_vm._v(_vm._s(line['label']))])]):_vm._e(),_vm._v(\" \"),(line['fromColumnIdx'] > line['toColumnIdx'])?_c('div',{key:'line-'+index,ref:\"line\",refInFor:true,staticClass:\"arrow_line\",style:(_vm.lineStyles[index]),on:{\"click\":function($event){return _vm.$emit('line-click', index, line)}}},[_c('div',{staticClass:\"arrow_to_left\"}),_vm._v(\" \"),_c('div',{class:line['lineType']}),_vm._v(\" \"),_c('div',{staticClass:\"note\"},[_vm._v(_vm._s(line.note))]),_vm._v(\" \"),_c('div',{staticClass:\"line_label\",style:(_vm.labelStyles[index])},[_vm._v(_vm._s(line['label']))])]):_vm._e(),_vm._v(\" \"),(line['fromColumnIdx'] == line['toColumnIdx'])?_c('div',{key:'line-'+index,ref:\"line\",refInFor:true,staticClass:\"self_msg_line\",style:(_vm.lineStyles[index]),on:{\"click\":function($event){return _vm.$emit('line-click', index, line)}}},[_c('div',{class:line['lineType']}),_vm._v(\" \"),_c('div',{staticClass:\"arrow\"}),_vm._v(\" \"),_c('div',{staticClass:\"note\"},[_vm._v(_vm._s(line.note))]),_vm._v(\" \"),_c('div',{staticClass:\"line_label\",style:(_vm.labelStyles[index])},[_vm._v(_vm._s(line['label']))])]):_vm._e()]})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// sequence-diagram.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9b7222c21ea8e0255ef6","<template>\r\n  <div ref=\"seqdiagram\" class=\"seqdiagram\">\r\n    <!-- 内容 -->\r\n    <div class=\"seqdiagram_sysbox\">\r\n      <!-- column -->\r\n      <div\r\n        v-for=\"(column,index) in columnList\"\r\n        class=\"subsys\"\r\n        ref=\"subsys\"\r\n        :key=\"column.name\"\r\n        :name=\"'subsys'+index\"\r\n      >\r\n        <div class=\"title\">{{column.name}}</div>\r\n        <div class=\"bodybox\">\r\n          <!-- 第一个segment预留line -->\r\n          <div class=\"segment-line\"></div>\r\n          <!-- 循环计算其他的segment -->\r\n          <template v-for=\"(segment,segIndex) in column['segments']\">\r\n            <div\r\n              v-if=\"segment.isBlock\"\r\n              :key=\"index+'-'+segIndex\"\r\n              class=\"segment-block\"\r\n              :style=\"{flex:segment.end-segment.begin+1,backgroundColor:column.color}\"\r\n            ></div>\r\n            <div\r\n              v-if=\"!segment.isBlock\"\r\n              :key=\"index+'-'+segIndex\"\r\n              class=\"segment-line\"\r\n              :style=\"{flex:segment.end-segment.begin+1}\"\r\n            ></div>\r\n          </template>\r\n          <!-- 最后一个segment预留line -->\r\n          <div class=\"segment-line\"></div>\r\n        </div>\r\n        <div class=\"title\">{{column.name}}</div>\r\n      </div>\r\n    </div>\r\n    <!-- line -->\r\n    <template v-for=\"(line,index) in rowList\">\r\n      <!-- A->B -->\r\n      <div\r\n        v-if=\"line['fromColumnIdx'] < line['toColumnIdx']\"\r\n        ref=\"line\"\r\n        @click=\"$emit('line-click', index, line)\"\r\n        :key=\"'line-'+index\"\r\n        class=\"arrow_line\"\r\n        :style=\"lineStyles[index]\"\r\n      >\r\n        <div :class=\"line['lineType']\"></div>\r\n        <div class=\"arrow_to_right\"></div>\r\n        <div class=\"note\">{{line.note}}</div>\r\n        <!-- label -->\r\n        <div class=\"line_label\" :style=\"labelStyles[index]\">{{line['label']}}</div>\r\n      </div>\r\n      <!-- A<-B -->\r\n      <div\r\n        v-if=\"line['fromColumnIdx'] > line['toColumnIdx']\"\r\n        ref=\"line\"\r\n        @click=\"$emit('line-click', index, line)\"\r\n        :key=\"'line-'+index\"\r\n        class=\"arrow_line\"\r\n        :style=\"lineStyles[index]\"\r\n      >\r\n        <div class=\"arrow_to_left\"></div>\r\n        <div :class=\"line['lineType']\"></div>\r\n        <div class=\"note\">{{line.note}}</div>\r\n        <!-- label -->\r\n        <div class=\"line_label\" :style=\"labelStyles[index]\">{{line['label']}}</div>\r\n      </div>\r\n      <!-- A->A -->\r\n      <div\r\n        v-if=\"line['fromColumnIdx'] == line['toColumnIdx']\"\r\n        ref=\"line\"\r\n        @click=\"$emit('line-click', index, line)\"\r\n        :key=\"'line-'+index\"\r\n        class=\"self_msg_line\"\r\n        :style=\"lineStyles[index]\"\r\n      >\r\n        <div :class=\"line['lineType']\"></div>\r\n        <div class=\"arrow\"></div>\r\n        <div class=\"note\">{{line.note}}</div>\r\n        <!-- label -->\r\n        <div class=\"line_label\" :style=\"labelStyles[index]\">{{line['label']}}</div>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'SequenceDiagram',\r\n  props: {\r\n    // 数据 [{label:'',from:'',to:'',note:'',isDash:1}]\r\n    dataList: {\r\n      type: Array\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // 所有数据行的信息\r\n      rowList: [],\r\n      // 所有列的信息{data:{},fromColumnIdx:1,toColumnIdx:2,sys_idx}\r\n      columnList: [],\r\n\r\n      colorList: [\r\n        'SteelBlue',\r\n        'coral',\r\n        'DeepSkyBlue',\r\n        'lightgreen',\r\n        'SlateBlue',\r\n        'HotPink',\r\n        'Olive',\r\n        'Sienna',\r\n        'Tan'\r\n      ],\r\n      lineStyles: [],\r\n      labelStyles: [],\r\n      resizeFunction: null\r\n    }\r\n  },\r\n  created() {\r\n    // 循环所有数据行，计算列信息\r\n    for (var i = 0; i < this.dataList.length; ++i) {\r\n      // copy用户传递的原始数据对象，保存到rowList\r\n      var line = Object.assign({}, this.dataList[i])\r\n      this.rowList.push(line)\r\n\r\n      if (line['from'] === line['to']) {\r\n        // -------------自循环，从A->A-----------------\r\n        var columnIndex = this._ensureColumnIndex(line['name'])\r\n        this.columnList[columnIndex]['rowNumbers'].push(i)\r\n        // 补充自循环数据，所在列的索引\r\n        line['fromColumnIdx'] = columnIndex\r\n        line['toColumnIdx'] = columnIndex\r\n        // 线条类型\r\n        line['lineType'] = line['isDash'] ? 'dashlink' : 'link'\r\n      } else {\r\n        // -------------正常信息，从A->B-----------------\r\n        // 记录列的信息，并返回列的索引位置\r\n        var fromColumnIndex = this._ensureColumnIndex(line['from'])\r\n        // 记录当前行\r\n        this.columnList[fromColumnIndex]['rowNumbers'].push(i)\r\n        // 补充from所在列的索引\r\n        line['fromColumnIdx'] = fromColumnIndex\r\n\r\n        // to相关信息\r\n        var toColumnIndex = this._ensureColumnIndex(line['to'])\r\n        this.columnList[toColumnIndex]['rowNumbers'].push(i)\r\n        line['toColumnIdx'] = toColumnIndex\r\n        // 线条类型\r\n        line['lineType'] = line['isDash'] ? 'dashline' : 'line'\r\n      }\r\n    }\r\n    // 计算所有列的分段信息\r\n    for (var i = 0; i < this.columnList.length; ++i) {\r\n      this._generateColumnSegment(this.columnList[i])\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.reCalculateLinePosition()\r\n    })\r\n    const that = this\r\n    this.resizeFunction = function() {\r\n       that.reCalculateLinePosition()\r\n    }\r\n    // 增加监听\r\n    window.addEventListener('resize', this.resizeFunction)\r\n  },\r\n  beforeDestroy() {\r\n    // 移除监听\r\n    window.removeEventListener('resize', this.resizeFunction)\r\n  },\r\n  methods: {\r\n    /**\r\n     * 根据列名，计算列的信息，并返回列的索引，\r\n     */\r\n    _ensureColumnIndex(columnName) {\r\n      for (var j = 0; j < this.columnList.length; ++j) {\r\n        if (this.columnList[j]['name'] == columnName) {\r\n          return j\r\n        }\r\n      }\r\n      var idx = this.columnList.length\r\n      this.columnList.push({\r\n        idx: idx,\r\n        name: columnName,\r\n        color: this.colorList[idx % this.colorList.length],\r\n        rowNumbers: []\r\n      })\r\n      // 返回列的索引\r\n      return idx\r\n    },\r\n    /**\r\n     * 计算列的分段样式\r\n     */\r\n    _generateColumnSegment(columnItem) {\r\n      columnItem['segments'] = []\r\n      // calculate dots\r\n      var bitmap = []\r\n      // 所有行默认为0\r\n      for (var i = 0; i < this.dataList.length; ++i) {\r\n        bitmap.push(0)\r\n      }\r\n      // columnItem['rowNumbers']=[1,8]说明当前列在第2行、第9行位置处显示block\r\n      for (var i = 0; i < columnItem['rowNumbers'].length; ++i) {\r\n        // 1代表当前段为block 0代表line\r\n        bitmap[columnItem['rowNumbers'][i]] = 1\r\n      }\r\n      // 计算连续的block和line\r\n      var segStart = 0,\r\n        isBlock = false\r\n      for (var i = 0; i < bitmap.length; ++i) {\r\n        if (bitmap[i]) {\r\n          // this dot belongs to a line block seg\r\n          if (!isBlock) {\r\n            // but current seg is not a block\r\n            if (i > segStart) {\r\n              // end current seg\r\n              columnItem['segments'].push({\r\n                begin: segStart,\r\n                end: i - 1,\r\n                isBlock: false\r\n              })\r\n            }\r\n            // start a new seg\r\n            segStart = i\r\n            isBlock = true\r\n          }\r\n        } // this dot belongs to a dash line seg\r\n        else {\r\n          if (isBlock) {\r\n            // but current seg is a block\r\n            if (i > segStart) {\r\n              // end current seg\r\n              columnItem['segments'].push({\r\n                begin: segStart,\r\n                end: i - 1,\r\n                isBlock: true\r\n              })\r\n            }\r\n            // start a new seg\r\n            segStart = i\r\n            isBlock = false\r\n          }\r\n        }\r\n      }\r\n      // end the final line seg\r\n      columnItem['segments'].push({\r\n        begin: segStart,\r\n        end: bitmap.length - 1,\r\n        isBlock: isBlock\r\n      })\r\n    },\r\n    /**\r\n     * 重新计算线的位置\r\n     */\r\n    reCalculateLinePosition() {\r\n      console.log('===========recal_line===========')\r\n      if (this.rowList.length === 0) {\r\n        return\r\n      }\r\n      // var dom = this.$refs.seqdiagram\r\n      // var baseOffset = {\r\n      //   left: dom.offsetLeft,\r\n      //   top: dom.offsetTop\r\n      // }\r\n      var baseOffset = {\r\n        left: 0,\r\n        top: 0\r\n      }\r\n      // segment block\r\n      var segBlockDom = document.querySelector('[name=subsys0] .segment-block')\r\n      if (!segBlockDom) {\r\n        return\r\n      }\r\n      // segment block宽度\r\n      var segBlockWidth = segBlockDom.clientWidth\r\n      // 列的高度\r\n      var columnBodyDom = document.querySelector('[name=subsys0] .bodybox')\r\n      // 清空原样式\r\n      this.lineStyles.length = 0\r\n      this.labelStyles.length = 0\r\n      for (var i = 0; i < this.rowList.length; ++i) {\r\n        var line = this.rowList[i]\r\n        var lineDom = this.$refs.line[i]\r\n\r\n        var width = 0,\r\n          top = 0,\r\n          left = 0\r\n\r\n          // calculate top\r\n          var segCount = this.rowList.length + 1\r\n          var avgSegheight = columnBodyDom.offsetHeight / segCount\r\n          var columnBodyTop = columnBodyDom.offsetTop\r\n\r\n        // A->A类型\r\n        if (line['fromColumnIdx'] === line['toColumnIdx']) {\r\n          var columnDom = this.$refs.subsys[line['fromColumnIdx']]\r\n\r\n          var leftPosition =\r\n            columnDom.offsetLeft +\r\n            columnDom.clientWidth / 2 +\r\n            segBlockWidth / 2\r\n\r\n          // postion\r\n          width = columnDom.clientWidth\r\n          top = columnBodyTop + (i + 1) * avgSegheight - 5 - baseOffset.top\r\n          left = leftPosition - baseOffset.left\r\n\r\n        } else {\r\n          // A->B OR B->A\r\n          // 开始列的dom\r\n          var fromDom = this.$refs.subsys[line['fromColumnIdx']]\r\n          // 结束列的dom\r\n          var toDom = this.$refs.subsys[line['toColumnIdx']]\r\n\r\n          var leftDom = null,\r\n            rightDom = null\r\n          if (line['fromColumnIdx'] < line['toColumnIdx']) {\r\n            // line is left to right\r\n            leftDom = fromDom\r\n            rightDom = toDom\r\n          } else {\r\n            // line is right to left\r\n            leftDom = toDom\r\n            rightDom = fromDom\r\n          }\r\n          // calculate line's left and right end position, calculate width\r\n          var leftPosition =\r\n            leftDom.offsetLeft + leftDom.clientWidth / 2 + segBlockWidth / 2\r\n          var rightPosition =\r\n            rightDom.offsetLeft + rightDom.clientWidth / 2 - segBlockWidth / 2\r\n\r\n          // 设置position\r\n          width = rightPosition - leftPosition\r\n          top = columnBodyTop + (i + 1) * avgSegheight - 5 - baseOffset.top\r\n          left = leftPosition - baseOffset.left\r\n        }\r\n\r\n        // 记录position\r\n        this.lineStyles.push({\r\n          width: width + 'px',\r\n          top: top + 'px',\r\n          left: left + 'px'\r\n        })\r\n        this.labelStyles.push({\r\n          left: -1 * left + 'px'\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@px: 0.0625em;\r\n@small_font_size: 10 * @px;\r\n@midium_font_size: 12 * @px;\r\n@large_font_size: 14 * @px;\r\n@huge_font_size: 16 * @px;\r\n@box_bordercolor: black;\r\n@box_bordercolor_light: gray;\r\n@box_backcolor_begin: #ccc;\r\n@box_backcolor_end: lighten(@box_backcolor_begin, 50%);\r\n@box_backcolor_tips: LemonChiffon;\r\n@box_shadowcolor: darken(@box_backcolor_begin, 10%);\r\n@subsys_maxwidth: 200 * @px;\r\n@color: midnightblue;\r\n\r\n@hover_box_bordercolor: red;\r\n@hover_box_backcolor: #ccc;\r\n\r\n.seqdiagram {\r\n  margin: 0;\r\n  padding: 0;\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  color: @color;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  .seqdiagram_title {\r\n    display: flex;\r\n    font-size: @midium_font_size;\r\n    text-shadow: 2 * @px 2 * @px 2 * @px @box_shadowcolor;\r\n    .box {\r\n      padding: 5 * @px 10 * @px 5 * @px 10 * @px;\r\n      border: @px solid @box_bordercolor_light;\r\n      border-top: 0;\r\n      background-color: @box_backcolor_tips;\r\n    }\r\n    .west {\r\n      border-left: 0;\r\n      border-bottom-right-radius: @huge_font_size;\r\n    }\r\n    .center {\r\n      flex: 1;\r\n    }\r\n    .east {\r\n      border-right: 0;\r\n      border-bottom-left-radius: @huge_font_size;\r\n    }\r\n  }\r\n  .seqdiagram_sysbox {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    position: relative;\r\n    flex: 1;\r\n    .subsys {\r\n      flex: 1;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-between;\r\n      max-width: @subsys_maxwidth;\r\n      margin: @small_font_size;\r\n      .title {\r\n        border: @px solid @box_bordercolor;\r\n        border-radius: 6 * @px;\r\n        padding: 5 * @px;\r\n        text-align: center;\r\n        text-shadow: 2 * @px 2 * @px 2 * @px @box_shadowcolor;\r\n        box-shadow: 4 * @px 4 * @px 4 * @px @box_shadowcolor;\r\n        font-size: @large_font_size;\r\n        background-image: linear-gradient(\r\n          to bottom,\r\n          @box_backcolor_begin,\r\n          @box_backcolor_end\r\n        );\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n      }\r\n      .bodybox {\r\n        flex: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        .segment-line {\r\n          position: relative;\r\n          top: 0;\r\n          left: 0;\r\n          z-index: 0;\r\n          width: 0;\r\n          border-left: 1px dashed @box_bordercolor;\r\n          flex: 0.5;\r\n        }\r\n        .segment-block {\r\n          width: 10 * @px;\r\n          background-color: pink;\r\n          flex: 1;\r\n          box-shadow: 4 * @px 4 * @px 4 * @px @box_shadowcolor;\r\n          z-index: 1;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .seqdiagram_bottom {\r\n    display: flex;\r\n    font-size: @midium_font_size;\r\n    text-shadow: 2 * @px 2 * @px 2 * @px @box_shadowcolor;\r\n    margin: 5 * @px;\r\n    .side {\r\n      flex: 1;\r\n    }\r\n    .center {\r\n      padding: 15 * @px;\r\n      border: @px solid @box_bordercolor_light;\r\n      border-radius: @huge_font_size;\r\n      background-color: @box_backcolor_tips;\r\n    }\r\n  }\r\n  .arrow_line {\r\n    position: absolute;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: @small_font_size;\r\n    z-index: 0;\r\n    width: 200px;\r\n    .line {\r\n      border-bottom: @px solid @box_bordercolor;\r\n      height: 0;\r\n      flex: 1;\r\n    }\r\n    .dashline {\r\n      border-bottom: @px dashed @box_bordercolor;\r\n      height: 0;\r\n      flex: 1;\r\n    }\r\n    .arrow_to_right:before {\r\n      content: '▶';\r\n      color: @box_bordercolor;\r\n    }\r\n    .arrow_to_left:before {\r\n      content: '◀';\r\n      color: @box_bordercolor;\r\n    }\r\n    .note {\r\n      position: absolute;\r\n      margin: auto;\r\n      top: -@huge_font_size;\r\n      left: 0;\r\n      bottom: 0;\r\n      right: 0;\r\n      text-align: center;\r\n      font-size: @large_font_size;\r\n      text-shadow: 2 * @px 2 * @px 2 * @px @box_shadowcolor;\r\n      paddng: 0 8 * @px 0 8 * @px;\r\n      color: dimgray;\r\n    }\r\n  }\r\n\r\n  .self_msg_line {\r\n    position: absolute;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: @small_font_size;\r\n    z-index: 0;\r\n    width: 200px;\r\n    .link {\r\n      width: 1.5 * @huge_font_size;\r\n      height: 1.5 * @huge_font_size;\r\n      border: @px solid @box_bordercolor;\r\n      border-left: 0;\r\n    }\r\n    .dashlink {\r\n      width: 1.5 * @huge_font_size;\r\n      height: 1.5 * @huge_font_size;\r\n      border: @px dashed @box_bordercolor;\r\n      border-left: 0;\r\n    }\r\n    .arrow:before {\r\n      content: '◀';\r\n      color: @box_bordercolor;\r\n      position: absolute;\r\n      left: 0;\r\n      bottom: -1.25 * @large_font_size;\r\n    }\r\n    .note {\r\n      flex: 1;\r\n      text-align: left;\r\n      font-size: @large_font_size;\r\n      text-shadow: 2 * @px 2 * @px 2 * @px @box_shadowcolor;\r\n      color: dimgray;\r\n      padding-left: 5 * @px;\r\n    }\r\n  }\r\n\r\n  .arrow_line:hover {\r\n    cursor: pointer;\r\n    background: @hover_box_backcolor;\r\n    .line {\r\n      border-bottom: @px solid @hover_box_bordercolor;\r\n    }\r\n    .dashline {\r\n      border-bottom: @px dashed @hover_box_bordercolor;\r\n    }\r\n    .arrow_to_right:before {\r\n      color: @hover_box_bordercolor;\r\n    }\r\n    .arrow_to_left:before {\r\n      color: @hover_box_bordercolor;\r\n    }\r\n    .line_label {\r\n      color: @hover_box_bordercolor;\r\n    }\r\n  }\r\n  .self_msg_line:hover {\r\n    cursor: pointer;\r\n    .link {\r\n      border: @px solid @hover_box_bordercolor;\r\n      border-left: 0;\r\n    }\r\n    .arrow:before {\r\n      color: @hover_box_bordercolor;\r\n    }\r\n\r\n    .line_label {\r\n      color: @hover_box_bordercolor;\r\n    }\r\n  }\r\n\r\n  .line_label {\r\n    position: absolute;\r\n    font-size: @large_font_size;\r\n    z-index: 0;\r\n    text-align: left;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/lib/SequenceDiagram.vue","import SequenceDiagram from './SequenceDiagram.vue'\r\n\r\nconst comment = {\r\n  install: function (Vue) {\r\n    Vue.component(SequenceDiagram.name, SequenceDiagram)\r\n  }\r\n}\r\n// global 情况下 自动安装\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n  window.Vue.use(comment)\r\n}\r\n\r\nexport default comment\n\n\n// WEBPACK FOOTER //\n// ./src/lib/index.js","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-117cc0ca\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SequenceDiagram.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SequenceDiagram.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SequenceDiagram.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-117cc0ca\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SequenceDiagram.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-117cc0ca\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/SequenceDiagram.vue\n// module id = 2\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-117cc0ca\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/less-loader/dist/cjs.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./SequenceDiagram.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"03ffdf4f\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-117cc0ca\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/lib/SequenceDiagram.vue\n// module id = 3\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".seqdiagram[data-v-117cc0ca]{margin:0;padding:0;color:#191970;width:100%;height:100%;position:relative;display:flex;flex-direction:column}.seqdiagram [data-v-117cc0ca]{margin:0;padding:0}.seqdiagram .seqdiagram_title[data-v-117cc0ca]{display:flex;font-size:.75em;text-shadow:.125em .125em .125em #b3b3b3}.seqdiagram .seqdiagram_title .box[data-v-117cc0ca]{padding:.3125em .625em;border:.0625em solid gray;border-top:0;background-color:#fffacd}.seqdiagram .seqdiagram_title .west[data-v-117cc0ca]{border-left:0;border-bottom-right-radius:1em}.seqdiagram .seqdiagram_title .center[data-v-117cc0ca]{flex:1}.seqdiagram .seqdiagram_title .east[data-v-117cc0ca]{border-right:0;border-bottom-left-radius:1em}.seqdiagram .seqdiagram_sysbox[data-v-117cc0ca]{display:flex;justify-content:space-around;position:relative;flex:1}.seqdiagram .seqdiagram_sysbox .subsys[data-v-117cc0ca]{flex:1;display:flex;flex-direction:column;justify-content:space-between;max-width:12.5em;margin:.625em}.seqdiagram .seqdiagram_sysbox .subsys .title[data-v-117cc0ca]{border:.0625em solid #000;border-radius:.375em;padding:.3125em;text-align:center;text-shadow:.125em .125em .125em #b3b3b3;box-shadow:.25em .25em .25em #b3b3b3;font-size:.875em;background-image:linear-gradient(180deg,#ccc,#fff);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.seqdiagram .seqdiagram_sysbox .subsys .bodybox[data-v-117cc0ca]{flex:1;display:flex;flex-direction:column;justify-content:space-between;align-items:center}.seqdiagram .seqdiagram_sysbox .subsys .bodybox .segment-line[data-v-117cc0ca]{position:relative;top:0;left:0;z-index:0;width:0;border-left:1px dashed #000;flex:0.5}.seqdiagram .seqdiagram_sysbox .subsys .bodybox .segment-block[data-v-117cc0ca]{width:.625em;background-color:pink;flex:1;box-shadow:.25em .25em .25em #b3b3b3;z-index:1}.seqdiagram .seqdiagram_bottom[data-v-117cc0ca]{display:flex;font-size:.75em;text-shadow:.125em .125em .125em #b3b3b3;margin:.3125em}.seqdiagram .seqdiagram_bottom .side[data-v-117cc0ca]{flex:1}.seqdiagram .seqdiagram_bottom .center[data-v-117cc0ca]{padding:.9375em;border:.0625em solid gray;border-radius:1em;background-color:#fffacd}.seqdiagram .arrow_line[data-v-117cc0ca]{position:absolute;display:flex;justify-content:center;align-items:center;height:.625em;z-index:0;width:200px}.seqdiagram .arrow_line .line[data-v-117cc0ca]{border-bottom:.0625em solid #000;height:0;flex:1}.seqdiagram .arrow_line .dashline[data-v-117cc0ca]{border-bottom:.0625em dashed #000;height:0;flex:1}.seqdiagram .arrow_line .arrow_to_right[data-v-117cc0ca]:before{content:\\\"\\\\25B6\\\";color:#000}.seqdiagram .arrow_line .arrow_to_left[data-v-117cc0ca]:before{content:\\\"\\\\25C0\\\";color:#000}.seqdiagram .arrow_line .note[data-v-117cc0ca]{position:absolute;margin:auto;top:-1em;left:0;bottom:0;right:0;text-align:center;font-size:.875em;text-shadow:.125em .125em .125em #b3b3b3;paddng:0 .5em 0 .5em;color:dimgray}.seqdiagram .self_msg_line[data-v-117cc0ca]{position:absolute;display:flex;justify-content:center;align-items:center;height:.625em;z-index:0;width:200px}.seqdiagram .self_msg_line .link[data-v-117cc0ca]{width:1.5em;height:1.5em;border:.0625em solid #000;border-left:0}.seqdiagram .self_msg_line .dashlink[data-v-117cc0ca]{width:1.5em;height:1.5em;border:.0625em dashed #000;border-left:0}.seqdiagram .self_msg_line .arrow[data-v-117cc0ca]:before{content:\\\"\\\\25C0\\\";color:#000;position:absolute;left:0;bottom:-1.09375em}.seqdiagram .self_msg_line .note[data-v-117cc0ca]{flex:1;text-align:left;font-size:.875em;text-shadow:.125em .125em .125em #b3b3b3;color:dimgray;padding-left:.3125em}.seqdiagram .arrow_line[data-v-117cc0ca]:hover{cursor:pointer;background:#ccc}.seqdiagram .arrow_line:hover .line[data-v-117cc0ca]{border-bottom:.0625em solid red}.seqdiagram .arrow_line:hover .dashline[data-v-117cc0ca]{border-bottom:.0625em dashed red}.seqdiagram .arrow_line:hover .arrow_to_left[data-v-117cc0ca]:before,.seqdiagram .arrow_line:hover .arrow_to_right[data-v-117cc0ca]:before,.seqdiagram .arrow_line:hover .line_label[data-v-117cc0ca]{color:red}.seqdiagram .self_msg_line[data-v-117cc0ca]:hover{cursor:pointer}.seqdiagram .self_msg_line:hover .link[data-v-117cc0ca]{border:.0625em solid red;border-left:0}.seqdiagram .self_msg_line:hover .arrow[data-v-117cc0ca]:before,.seqdiagram .self_msg_line:hover .line_label[data-v-117cc0ca]{color:red}.seqdiagram .line_label[data-v-117cc0ca]{position:absolute;font-size:.875em;z-index:0;text-align:left}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-117cc0ca\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/lib/SequenceDiagram.vue\n// module id = 4\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader/lib/css-base.js\n// module id = 5\n// module chunks = 0","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\nvar listToStyles = require('./listToStyles')\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nmodule.exports = function (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader/lib/addStylesClient.js\n// module id = 6\n// module chunks = 0","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nmodule.exports = function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader/lib/listToStyles.js\n// module id = 7\n// module chunks = 0","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/component-normalizer.js\n// module id = 8\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"seqdiagram\",staticClass:\"seqdiagram\"},[_c('div',{staticClass:\"seqdiagram_sysbox\"},_vm._l((_vm.columnList),function(column,index){return _c('div',{key:column.name,ref:\"subsys\",refInFor:true,staticClass:\"subsys\",attrs:{\"name\":'subsys'+index}},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(column.name))]),_vm._v(\" \"),_c('div',{staticClass:\"bodybox\"},[_c('div',{staticClass:\"segment-line\"}),_vm._v(\" \"),_vm._l((column['segments']),function(segment,segIndex){return [(segment.isBlock)?_c('div',{key:index+'-'+segIndex,staticClass:\"segment-block\",style:({flex:segment.end-segment.begin+1,backgroundColor:column.color})}):_vm._e(),_vm._v(\" \"),(!segment.isBlock)?_c('div',{key:index+'-'+segIndex,staticClass:\"segment-line\",style:({flex:segment.end-segment.begin+1})}):_vm._e()]}),_vm._v(\" \"),_c('div',{staticClass:\"segment-line\"})],2),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(column.name))])])}),0),_vm._v(\" \"),_vm._l((_vm.rowList),function(line,index){return [(line['fromColumnIdx'] < line['toColumnIdx'])?_c('div',{key:'line-'+index,ref:\"line\",refInFor:true,staticClass:\"arrow_line\",style:(_vm.lineStyles[index]),on:{\"click\":function($event){return _vm.$emit('line-click', index, line)}}},[_c('div',{class:line['lineType']}),_vm._v(\" \"),_c('div',{staticClass:\"arrow_to_right\"}),_vm._v(\" \"),_c('div',{staticClass:\"note\"},[_vm._v(_vm._s(line.note))]),_vm._v(\" \"),_c('div',{staticClass:\"line_label\",style:(_vm.labelStyles[index])},[_vm._v(_vm._s(line['label']))])]):_vm._e(),_vm._v(\" \"),(line['fromColumnIdx'] > line['toColumnIdx'])?_c('div',{key:'line-'+index,ref:\"line\",refInFor:true,staticClass:\"arrow_line\",style:(_vm.lineStyles[index]),on:{\"click\":function($event){return _vm.$emit('line-click', index, line)}}},[_c('div',{staticClass:\"arrow_to_left\"}),_vm._v(\" \"),_c('div',{class:line['lineType']}),_vm._v(\" \"),_c('div',{staticClass:\"note\"},[_vm._v(_vm._s(line.note))]),_vm._v(\" \"),_c('div',{staticClass:\"line_label\",style:(_vm.labelStyles[index])},[_vm._v(_vm._s(line['label']))])]):_vm._e(),_vm._v(\" \"),(line['fromColumnIdx'] == line['toColumnIdx'])?_c('div',{key:'line-'+index,ref:\"line\",refInFor:true,staticClass:\"self_msg_line\",style:(_vm.lineStyles[index]),on:{\"click\":function($event){return _vm.$emit('line-click', index, line)}}},[_c('div',{class:line['lineType']}),_vm._v(\" \"),_c('div',{staticClass:\"arrow\"}),_vm._v(\" \"),_c('div',{staticClass:\"note\"},[_vm._v(_vm._s(line.note))]),_vm._v(\" \"),_c('div',{staticClass:\"line_label\",style:(_vm.labelStyles[index])},[_vm._v(_vm._s(line['label']))])]):_vm._e()]})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-117cc0ca\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/lib/SequenceDiagram.vue\n// module id = 9\n// module chunks = 0"],"sourceRoot":""}