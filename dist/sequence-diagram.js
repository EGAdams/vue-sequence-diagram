!function(e){function t(i){if(a[i])return a[i].exports;var n=a[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="./dist/",t(t.s=1)}([function(e,t,a){"use strict";t.a={name:"SequenceDiagram",props:{dataList:{type:Array}},data:function(){return{rowList:[],columnList:[],colorList:["SteelBlue","coral","DeepSkyBlue","lightgreen","SlateBlue","HotPink","Olive","Sienna","Tan"],lineStyles:[],labelStyles:[],resizeFunction:null}},created:function(){for(var e=0;e<this.dataList.length;++e){var t=Object.assign({},this.dataList[e]);if(this.rowList.push(t),t.from===t.to){var a=this._ensureColumnIndex(t.name);this.columnList[a].rowNumbers.push(e),t.fromColumnIdx=a,t.toColumnIdx=a,t.lineType=t.isDash?"dashlink":"link"}else{var i=this._ensureColumnIndex(t.from);this.columnList[i].rowNumbers.push(e),t.fromColumnIdx=i;var n=this._ensureColumnIndex(t.to);this.columnList[n].rowNumbers.push(e),t.toColumnIdx=n,t.lineType=t.isDash?"dashline":"line"}}for(var e=0;e<this.columnList.length;++e)this._generateColumnSegment(this.columnList[e])},mounted:function(){var e=this;this.$nextTick(function(){e.reCalculateLinePosition()});var t=this;this.resizeFunction=function(){t.reCalculateLinePosition()},window.addEventListener("resize",this.resizeFunction)},beforeDestroy:function(){window.removeEventListener("resize",this.resizeFunction)},methods:{_ensureColumnIndex:function(e){for(var t=0;t<this.columnList.length;++t)if(this.columnList[t].name==e)return t;var a=this.columnList.length;return this.columnList.push({idx:a,name:e,color:this.colorList[a%this.colorList.length],rowNumbers:[]}),a},_generateColumnSegment:function(e){e.segments=[];for(var t=[],a=0;a<this.dataList.length;++a)t.push(0);for(var a=0;a<e.rowNumbers.length;++a)t[e.rowNumbers[a]]=1;for(var i=0,n=!1,a=0;a<t.length;++a)t[a]?n||(a>i&&e.segments.push({begin:i,end:a-1,isBlock:!1}),i=a,n=!0):n&&(a>i&&e.segments.push({begin:i,end:a-1,isBlock:!0}),i=a,n=!1);e.segments.push({begin:i,end:t.length-1,isBlock:n})},reCalculateLinePosition:function(){if(0!==this.rowList.length){var e={left:0,top:0},t=document.querySelector("[name=subsys0] .segment-block");if(t){var a=t.clientWidth,i=document.querySelector("[name=subsys0] .bodybox");this.lineStyles.length=0,this.labelStyles.length=0;for(var n=0;n<this.rowList.length;++n){var s=this.rowList[n],r=(this.$refs.line[n],0),o=0,l=0,d=this.rowList.length+1,f=i.offsetHeight/d,u=i.offsetTop;if(s.fromColumnIdx===s.toColumnIdx){var c=this.$refs.subsys[s.fromColumnIdx],m=c.offsetLeft+c.clientWidth/2+a/2;r=c.clientWidth,o=u+(n+1)*f-5-e.top,l=m-e.left}else{var g=this.$refs.subsys[s.fromColumnIdx],v=this.$refs.subsys[s.toColumnIdx],h=null,b=null;s.fromColumnIdx<s.toColumnIdx?(h=g,b=v):(h=v,b=g);var m=h.offsetLeft+h.clientWidth/2+a/2;r=b.offsetLeft+b.clientWidth/2-a/2-m,o=u+(n+1)*f-5-e.top,l=m-e.left}this.lineStyles.push({width:r+"px",top:o+"px",left:l+"px"}),this.labelStyles.push({left:-1*l+"px"})}}}}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(2),n={install:function(e){e.component(i.a.name,i.a)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(n),t.default=n},function(e,t,a){"use strict";function i(e){a(3)}var n=a(0),s=a(9),r=a(8),o=i,l=r(n.a,s.a,!1,o,"data-v-4818efea",null);t.a=l.exports},function(e,t,a){var i=a(4);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(6)("4c9eafc0",i,!0,{})},function(e,t,a){t=e.exports=a(5)(!1),t.push([e.i,'.seqdiagram[data-v-4818efea]{margin:0;padding:0;color:#191970;width:100%;height:100%;position:relative;display:flex;flex-direction:column}.seqdiagram [data-v-4818efea]{margin:0;padding:0}.seqdiagram .seqdiagram_title[data-v-4818efea]{display:flex;font-size:.75em;text-shadow:.125em .125em .125em #b3b3b3}.seqdiagram .seqdiagram_title .box[data-v-4818efea]{padding:.3125em .625em;border:.0625em solid gray;border-top:0;background-color:#fffacd}.seqdiagram .seqdiagram_title .west[data-v-4818efea]{border-left:0;border-bottom-right-radius:1em}.seqdiagram .seqdiagram_title .center[data-v-4818efea]{flex:1}.seqdiagram .seqdiagram_title .east[data-v-4818efea]{border-right:0;border-bottom-left-radius:1em}.seqdiagram .seqdiagram_sysbox[data-v-4818efea]{display:flex;justify-content:space-around;position:relative;flex:1}.seqdiagram .seqdiagram_sysbox .subsys[data-v-4818efea]{flex:1;display:flex;flex-direction:column;justify-content:space-between;max-width:12.5em;margin:.625em}.seqdiagram .seqdiagram_sysbox .subsys .title[data-v-4818efea]{border:.0625em solid #000;border-radius:.375em;padding:.3125em;text-align:center;text-shadow:.125em .125em .125em #b3b3b3;box-shadow:.25em .25em .25em #b3b3b3;font-size:.875em;background-image:linear-gradient(180deg,#ccc,#fff);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.seqdiagram .seqdiagram_sysbox .subsys .bodybox[data-v-4818efea]{flex:1;display:flex;flex-direction:column;justify-content:space-between;align-items:center}.seqdiagram .seqdiagram_sysbox .subsys .bodybox .segment-line[data-v-4818efea]{position:relative;top:0;left:0;z-index:0;width:0;border-left:1px dashed #000;flex:0.5}.seqdiagram .seqdiagram_sysbox .subsys .bodybox .segment-block[data-v-4818efea]{width:.625em;background-color:pink;flex:1;box-shadow:.25em .25em .25em #b3b3b3;z-index:1}.seqdiagram .seqdiagram_bottom[data-v-4818efea]{display:flex;font-size:.75em;text-shadow:.125em .125em .125em #b3b3b3;margin:.3125em}.seqdiagram .seqdiagram_bottom .side[data-v-4818efea]{flex:1}.seqdiagram .seqdiagram_bottom .center[data-v-4818efea]{padding:.9375em;border:.0625em solid gray;border-radius:1em;background-color:#fffacd}.seqdiagram .arrow_line[data-v-4818efea]{position:absolute;display:flex;justify-content:center;align-items:center;height:.625em;z-index:0;width:200px}.seqdiagram .arrow_line .line[data-v-4818efea]{border-bottom:.0625em solid #000;height:0;flex:1}.seqdiagram .arrow_line .dashline[data-v-4818efea]{border-bottom:.0625em dashed #000;height:0;flex:1}.seqdiagram .arrow_line .arrow_to_right[data-v-4818efea]:before{content:"\\25B6";color:#000}.seqdiagram .arrow_line .arrow_to_left[data-v-4818efea]:before{content:"\\25C0";color:#000}.seqdiagram .arrow_line .note[data-v-4818efea]{position:absolute;margin:auto;top:-1em;left:0;bottom:0;right:0;text-align:center;font-size:.875em;text-shadow:.125em .125em .125em #b3b3b3;paddng:0 .5em 0 .5em;color:dimgray}.seqdiagram .self_msg_line[data-v-4818efea]{position:absolute;display:flex;justify-content:center;align-items:center;height:.625em;z-index:0;width:200px}.seqdiagram .self_msg_line .link[data-v-4818efea]{width:1.5em;height:1.5em;border:.0625em solid #000;border-left:0}.seqdiagram .self_msg_line .dashlink[data-v-4818efea]{width:1.5em;height:1.5em;border:.0625em dashed #000;border-left:0}.seqdiagram .self_msg_line .arrow[data-v-4818efea]:before{content:"\\25C0";color:#000;position:absolute;left:0;bottom:-1.09375em}.seqdiagram .self_msg_line .note[data-v-4818efea]{flex:1;text-align:left;font-size:.875em;text-shadow:.125em .125em .125em #b3b3b3;color:dimgray;padding-left:.3125em}.seqdiagram .arrow_line[data-v-4818efea]:hover{cursor:pointer;background:#ccc}.seqdiagram .arrow_line:hover .line[data-v-4818efea]{border-bottom:.0625em solid red}.seqdiagram .arrow_line:hover .dashline[data-v-4818efea]{border-bottom:.0625em dashed red}.seqdiagram .arrow_line:hover .arrow_to_left[data-v-4818efea]:before,.seqdiagram .arrow_line:hover .arrow_to_right[data-v-4818efea]:before,.seqdiagram .arrow_line:hover .line_label[data-v-4818efea]{color:red}.seqdiagram .self_msg_line[data-v-4818efea]:hover{cursor:pointer}.seqdiagram .self_msg_line:hover .link[data-v-4818efea]{border:.0625em solid red;border-left:0}.seqdiagram .self_msg_line:hover .arrow[data-v-4818efea]:before,.seqdiagram .self_msg_line:hover .line_label[data-v-4818efea]{color:red}.seqdiagram .line_label[data-v-4818efea]{position:absolute;font-size:.875em;z-index:0;text-align:left}',""])},function(e,t){function a(e,t){var a=e[1]||"",n=e[3];if(!n)return a;if(t&&"function"==typeof btoa){var s=i(n);return[a].concat(n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"})).concat([s]).join("\n")}return[a].join("\n")}function i(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=a(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},n=0;n<this.length;n++){var s=this[n][0];"number"==typeof s&&(i[s]=!0)}for(n=0;n<e.length;n++){var r=e[n];"number"==typeof r[0]&&i[r[0]]||(a&&!r[2]?r[2]=a:a&&(r[2]="("+r[2]+") and ("+a+")"),t.push(r))}},t}},function(e,t,a){function i(e){for(var t=0;t<e.length;t++){var a=e[t],i=f[a.id];if(i){i.refs++;for(var n=0;n<i.parts.length;n++)i.parts[n](a.parts[n]);for(;n<a.parts.length;n++)i.parts.push(s(a.parts[n]));i.parts.length>a.parts.length&&(i.parts.length=a.parts.length)}else{for(var r=[],n=0;n<a.parts.length;n++)r.push(s(a.parts[n]));f[a.id]={id:a.id,refs:1,parts:r}}}}function n(){var e=document.createElement("style");return e.type="text/css",u.appendChild(e),e}function s(e){var t,a,i=document.querySelector("style["+b+'~="'+e.id+'"]');if(i){if(g)return v;i.parentNode.removeChild(i)}if(p){var s=m++;i=c||(c=n()),t=r.bind(null,i,s,!1),a=r.bind(null,i,s,!0)}else i=n(),t=o.bind(null,i),a=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else a()}}function r(e,t,a,i){var n=a?"":i.css;if(e.styleSheet)e.styleSheet.cssText=_(t,n);else{var s=document.createTextNode(n),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(s,r[t]):e.appendChild(s)}}function o(e,t){var a=t.css,i=t.media,n=t.sourceMap;if(i&&e.setAttribute("media",i),h.ssrId&&e.setAttribute(b,t.id),n&&(a+="\n/*# sourceURL="+n.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var d=a(7),f={},u=l&&(document.head||document.getElementsByTagName("head")[0]),c=null,m=0,g=!1,v=function(){},h=null,b="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,a,n){g=a,h=n||{};var s=d(e,t);return i(s),function(t){for(var a=[],n=0;n<s.length;n++){var r=s[n],o=f[r.id];o.refs--,a.push(o)}t?(s=d(e,t),i(s)):s=[];for(var n=0;n<a.length;n++){var o=a[n];if(0===o.refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete f[o.id]}}}};var _=function(){var e=[];return function(t,a){return e[t]=a,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t){for(var a=[],i={},n=0;n<t.length;n++){var s=t[n],r=s[0],o=s[1],l=s[2],d=s[3],f={id:e+":"+n,css:o,media:l,sourceMap:d};i[r]?i[r].parts.push(f):a.push(i[r]={id:r,parts:[f]})}return a}},function(e,t){e.exports=function(e,t,a,i,n,s){var r,o=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(r=e,o=e.default);var d="function"==typeof o?o.options:o;t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),a&&(d.functional=!0),n&&(d._scopeId=n);var f;if(s?(f=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=f):i&&(f=i),f){var u=d.functional,c=u?d.render:d.beforeCreate;u?(d._injectStyles=f,d.render=function(e,t){return f.call(t),c(e,t)}):d.beforeCreate=c?[].concat(c,f):[f]}return{esModule:r,exports:o,options:d}}},function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"seqdiagram",staticClass:"seqdiagram"},[a("div",{staticClass:"seqdiagram_sysbox"},e._l(e.columnList,function(t,i){return a("div",{key:t.name,ref:"subsys",refInFor:!0,staticClass:"subsys",attrs:{name:"subsys"+i}},[a("div",{staticClass:"title"},[e._v(e._s(t.name))]),e._v(" "),a("div",{staticClass:"bodybox"},[a("div",{staticClass:"segment-line"}),e._v(" "),e._l(t.segments,function(n,s){return[n.isBlock?a("div",{key:i+"-"+s,staticClass:"segment-block",style:{flex:n.end-n.begin+1,backgroundColor:t.color}}):e._e(),e._v(" "),n.isBlock?e._e():a("div",{key:i+"-"+s,staticClass:"segment-line",style:{flex:n.end-n.begin+1}})]}),e._v(" "),a("div",{staticClass:"segment-line"})],2),e._v(" "),a("div",{staticClass:"title"},[e._v(e._s(t.name))])])}),0),e._v(" "),e._l(e.rowList,function(t,i){return[t.fromColumnIdx<t.toColumnIdx?a("div",{key:"line-"+i,ref:"line",refInFor:!0,staticClass:"arrow_line",style:e.lineStyles[i],on:{click:function(a){return e.$emit("line-click",i,t)}}},[a("div",{class:t.lineType}),e._v(" "),a("div",{staticClass:"arrow_to_right"}),e._v(" "),a("div",{staticClass:"note"},[e._v(e._s(t.note))]),e._v(" "),a("div",{staticClass:"line_label",style:e.labelStyles[i]},[e._v(e._s(t.label))])]):e._e(),e._v(" "),t.fromColumnIdx>t.toColumnIdx?a("div",{key:"line-"+i,ref:"line",refInFor:!0,staticClass:"arrow_line",style:e.lineStyles[i],on:{click:function(a){return e.$emit("line-click",i,t)}}},[a("div",{staticClass:"arrow_to_left"}),e._v(" "),a("div",{class:t.lineType}),e._v(" "),a("div",{staticClass:"note"},[e._v(e._s(t.note))]),e._v(" "),a("div",{staticClass:"line_label",style:e.labelStyles[i]},[e._v(e._s(t.label))])]):e._e(),e._v(" "),t.fromColumnIdx==t.toColumnIdx?a("div",{key:"line-"+i,ref:"line",refInFor:!0,staticClass:"self_msg_line",style:e.lineStyles[i],on:{click:function(a){return e.$emit("line-click",i,t)}}},[a("div",{class:t.lineType}),e._v(" "),a("div",{staticClass:"arrow"}),e._v(" "),a("div",{staticClass:"note"},[e._v(e._s(t.note))]),e._v(" "),a("div",{staticClass:"line_label",style:e.labelStyles[i]},[e._v(e._s(t.label))])]):e._e()]})],2)},n=[],s={render:i,staticRenderFns:n};t.a=s}]);
//# sourceMappingURL=sequence-diagram.js.map